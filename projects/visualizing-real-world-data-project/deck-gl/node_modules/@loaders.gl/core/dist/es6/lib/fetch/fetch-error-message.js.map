{"version":3,"sources":["../../../../src/lib/fetch/fetch-error-message.js"],"names":["getErrorMessageFromResponseSync","response","url","status","statusText","getErrorMessageFromResponse","message","contentType","headers","get","includes","text","error"],"mappings":";AAAA,OAAO,SAASA,+BAAT,CAAyCC,QAAzC,EAAmD;AACxD,4CAAmCA,QAAQ,CAACC,GAA5C,cAAmDD,QAAQ,CAACE,MAA5D,gBAAwEF,QAAQ,CAACG,UAAjF;AACD;AAED,gBAAsBC,2BAAtB;AAAA;AAAA;;;mDAAO,WAA2CJ,QAA3C,EAAqD;AAC1D,QAAIK,OAAO,sCAA+BL,QAAQ,CAACC,GAAxC,eAAgDD,QAAQ,CAACE,MAAzD,QAAX;;AACA,QAAI;AACF,UAAMI,WAAW,GAAGN,QAAQ,CAACO,OAAT,CAAiBC,GAAjB,CAAqB,cAArB,CAApB;;AACA,UAAIF,WAAW,CAACG,QAAZ,CAAqB,kBAArB,CAAJ,EAA8C;AAC5CJ,QAAAA,OAAO,UAAUL,QAAQ,CAACU,IAAT,EAAjB;AACD,OAFD,MAEO;AACLL,QAAAA,OAAO,IAAIL,QAAQ,CAACG,UAApB;AACD;AACF,KAPD,CAOE,OAAOQ,KAAP,EAAc;AAEd,aAAON,OAAP;AACD;;AACD,WAAOA,OAAP;AACD,G","sourcesContent":["export function getErrorMessageFromResponseSync(response) {\n  return `Failed to fetch resource ${response.url}(${response.status}): ${response.statusText} `;\n}\n\nexport async function getErrorMessageFromResponse(response) {\n  let message = `Failed to fetch resource ${response.url} (${response.status}): `;\n  try {\n    const contentType = response.headers.get('Content-Type');\n    if (contentType.includes('application/json')) {\n      message += await response.text();\n    } else {\n      message += response.statusText;\n    }\n  } catch (error) {\n    // eslint forbids return in finally statement\n    return message;\n  }\n  return message;\n}\n"],"file":"fetch-error-message.js"}