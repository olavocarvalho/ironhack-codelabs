{"version":3,"sources":["../../../../src/modules/fog/fog.js"],"names":["getUniforms","fogEnable","fogColor","fogNear","fogFar","fog_uEnable","fog_uColor","fog_uNear","fog_uFar","fs","name","vs"],"mappings":"AACA,SAASA,WAAT,GAKQ;AAAA,MALa;AACnBC,IAAAA,SAAS,GAAG,KADO;AAEnBC,IAAAA,QAAQ,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAFQ;AAGnBC,IAAAA,OAAO,GAAG,CAHS;AAInBC,IAAAA,MAAM,GAAG;AAJU,GAKb,uEAAJ,EAAI;AACN,SAAO;AACLC,IAAAA,WAAW,EAAEJ,SADR;AAELK,IAAAA,UAAU,EAAEJ,QAFP;AAGLK,IAAAA,SAAS,EAAEJ,OAHN;AAILK,IAAAA,QAAQ,EAAEJ;AAJL,GAAP;AAMD;;AAED,MAAMK,EAAE,0YAAR;AA0BA,eAAe;AACbC,EAAAA,IAAI,EAAE,KADO;AAEbV,EAAAA,WAFa;AAGbW,EAAAA,EAAE,EAAE,EAHS;AAIbF,EAAAA;AAJa,CAAf","sourcesContent":["/* eslint-disable camelcase */\nfunction getUniforms({\n  fogEnable = false,\n  fogColor = [0.5, 0.5, 0.5],\n  fogNear = 1,\n  fogFar = 100\n} = {}) {\n  return {\n    fog_uEnable: fogEnable,\n    fog_uColor: fogColor,\n    fog_uNear: fogNear,\n    fog_uFar: fogFar\n  };\n}\n\nconst fs = `\\\n// fog configuration\nuniform bool fog_uEnable;\nuniform vec3 fog_uColor;\nuniform float fog_uNear;\nuniform float fog_uFar;\n\n/*\n * Applies linear fog to a color\n * param - unfogged color\n * return - fogged color\n */\nvec4 fog_filterColor(vec4 color) {\n  if (fog_uEnable) {\n    float depth = gl_FragCoord.z / gl_FragCoord.w;\n    float fogFactor = smoothstep(fog_uNear, fog_uFar, depth);\n    return mix(color, vec4(fog_uColor, gl_FragColor.w), fogFactor);\n  } else {\n    return color;\n  }\n}\n\n// Other fog shaders, exponential etc, see\n// http://in2gpu.com/2014/07/22/create-fog-shader/\n`;\n\nexport default {\n  name: 'fog',\n  getUniforms,\n  vs: '',\n  fs\n};\n"],"file":"fog.js"}